scoreboard players set @s aspects.essence_extractor.has_extracted_any_essence 0

execute if entity @s[type=#aspects:essence/type/apex] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/apex] run function aspects:item/essence_extractor/set_amount_whitelist/apex with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/aquatic] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/aquatic] run function aspects:item/essence_extractor/set_amount_whitelist/aquatic with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/beast] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/beast] run function aspects:item/essence_extractor/set_amount_whitelist/beast with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/bug] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/bug] run function aspects:item/essence_extractor/set_amount_whitelist/bug with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/dark] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/dark] run function aspects:item/essence_extractor/set_amount_whitelist/dark with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/ethereal] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/ethereal] run function aspects:item/essence_extractor/set_amount_whitelist/ethereal with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/feline] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/feline] run function aspects:item/essence_extractor/set_amount_whitelist/feline with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/fire] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/fire] run function aspects:item/essence_extractor/set_amount_whitelist/fire with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/flying] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/flying] run function aspects:item/essence_extractor/set_amount_whitelist/flying with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/humanoid] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/humanoid] run function aspects:item/essence_extractor/set_amount_whitelist/humanoid with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/ice] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/ice] run function aspects:item/essence_extractor/set_amount_whitelist/ice with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/normal] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/normal] run function aspects:item/essence_extractor/set_amount_whitelist/normal with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/ooze] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/ooze] run function aspects:item/essence_extractor/set_amount_whitelist/ooze with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/plant] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/plant] run function aspects:item/essence_extractor/set_amount_whitelist/plant with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/steel] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/steel] run function aspects:item/essence_extractor/set_amount_whitelist/steel with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/undead] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/undead] run function aspects:item/essence_extractor/set_amount_whitelist/undead with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/void] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/void] run function aspects:item/essence_extractor/set_amount_whitelist/void with storage aspectlib:dummy
execute if entity @s[type=#aspects:essence/type/wild] if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/wild] run function aspects:item/essence_extractor/set_amount_whitelist/wild with storage aspectlib:dummy
