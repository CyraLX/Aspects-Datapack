$execute if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/dark] store result storage aspectlib:dummy stored_essences.dark int 1 run scoreboard players add #aspects aspects.essence.dark $(essence_amount)
execute if entity @p[tag=essence_extractor_attacker,distance=..32,predicate=aspects:item/essence_cage/whitelisted/offhand/dark] run scoreboard players set @s aspects.essence_extractor.has_extracted_any_essence 1