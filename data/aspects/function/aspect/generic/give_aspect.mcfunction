# Give Aspect Item to Body Slot
$execute if items entity @s armor.body * run item modify entity @s armor.body [{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"body",equip_sound:"$(sound)",allowed_entities:"minecraft:player",dispensable:0b,swappable:0b,damage_on_hurt:0b,equip_on_interact:0b,can_be_sheared:0b}}},{function:"minecraft:set_enchantments",enchantments:{"$(namespace):aspect/$(name)/body":1},add:0b},{function:"minecraft:set_custom_data",tag:{aspects:{aspect:{id:$(id),namespace:"$(namespace)",name:"$(name)",color:"$(color)",sound:"$(sound)"}}}}]
execute unless items entity @s armor.body * run item replace entity @s armor.body with minecraft:jigsaw[minecraft:equippable={"slot":"body","equip_sound":"minecraft:entity.experience_orb.pickup"}]
$execute if items entity @s armor.body minecraft:jigsaw[minecraft:equippable={"slot":"body","equip_sound":"minecraft:entity.experience_orb.pickup"}] run item modify entity @s armor.body [{function:"minecraft:set_components",components:{"minecraft:equippable":{slot:"body",equip_sound:"$(sound)",allowed_entities:"minecraft:player",dispensable:0b,swappable:0b,damage_on_hurt:0b,equip_on_interact:0b,can_be_sheared:0b}}},{function:"minecraft:set_enchantments",enchantments:{"$(namespace):aspect/$(name)/body":1},add:0b},{function:"minecraft:set_custom_data",tag:{aspects:{aspect:{id:$(id),namespace:"$(namespace)",name:"$(name)",color:"$(color)",sound:"$(sound)"}}}},{function:"minecraft:set_components",components:{"minecraft:rarity":"epic","minecraft:item_model":"$(namespace):aspect/$(name)","minecraft:enchantment_glint_override":0}},{function:"minecraft:set_name",entity:"this",target:"item_name",name:[{translate:"aspect"}]}]
# Store the Player ID in the Aspect Item
function aspectlib:player/id/expose
function aspects:aspect/generic/store_id_on_aspect with storage aspectlib:dummy
